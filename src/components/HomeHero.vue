<!--
  *  Copyright (C) 2023 Intel Corporation. All rights reserved.
  *  Licensed under the Apache License 2.0. See LICENSE in the project root for license information.
  *  SPDX-License-Identifier: Apache-2.0
  -->

<template>
  <div id="fc">
    <div id="hero" class="mw1280">
      <div class="description">
        <h3>Webinizer</h3>
        <h2>
          Migrating your
          <div class="mask">
            <span data-show>C</span>
            <span>C++</span>
            <span>Rust</span>
          </div>
          applications to the Web
        </h2>
        <a href="/getstarted">Get Started</a>
      </div>
      <div>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 650 277">
          <defs></defs>
          <title></title>
          <g id="Layer_2" data-name="Layer 2">
            <rect class="cls-1" x="1.5" y="1.5" width="144" height="78" rx="3" />
            <text class="cls-2" transform="translate(31.16 48.78)">C/C++</text>
            <rect class="cls-1" x="1.5" y="99.5" width="144" height="78" rx="3" />
            <text class="cls-2" transform="translate(48.55 146.78)">Rust</text>
            <rect class="cls-1" x="1.5" y="197.5" width="144" height="78" rx="3" />
            <text class="cls-2" transform="translate(34.49 232.76)">
              Native
              <tspan x="-4.85" y="24">Apps ...</tspan>
            </text>
            <rect class="cls-1" x="193.5" y="1.5" width="258" height="78" rx="3" />
            <rect class="cls-1" x="193.5" y="99.5" width="258" height="176" rx="3" />
            <rect class="cls-1" x="504.5" y="1.5" width="144" height="274" rx="3" />
            <text class="cls-2" transform="translate(549.66 132.76)">
              Web
              <tspan x="-3.55" y="24">Apps</tspan>
            </text>
            <text class="cls-2" transform="translate(270.49 37.19)">
              Webinized
              <tspan x="0" y="24">Wasm/JS Libs</tspan>
            </text>
            <text class="cls-2" transform="translate(234.59 140.49)">Webinizer Suite</text>
            <text class="cls-3" transform="translate(221.11 167.68)">One Stop UI, Libs, Tools</text>
            <rect class="cls-1" x="209.85" y="196" width="130.65" height="63" rx="3" />
            <text class="cls-3" transform="translate(235.04 215.68)">Package</text>
            <text class="cls-3" transform="translate(235.75 247.68)">Compile</text>
            <g id="chrome" class="cls-4">
              <circle class="cls-5" cx="601.25" cy="229.25" r="37.75" />
              <circle class="cls-5" cx="601.25" cy="229.25" r="13.36" />
              <line class="cls-5" x1="588.18" y1="231.28" x2="574.83" y2="202.82" />
              <line class="cls-5" x1="602.99" y1="215.89" x2="636.68" y2="215.89" />
              <line class="cls-5" x1="606.48" y1="241.45" x2="591.96" y2="265.84" />
            </g>
            <g id="arrow1" class="cls-4">
              <line class="cls-6" x1="158" y1="146" x2="171.24" y2="146" />
              <polygon class="cls-7" points="169.05 153.48 182 146 169.05 138.52 169.05 153.48" />
            </g>
            <g id="arrow2" class="cls-4">
              <line class="cls-6" x1="466.34" y1="146" x2="479.58" y2="146" />
              <polygon
                class="cls-7"
                points="477.39 153.48 490.34 146 477.39 138.52 477.39 153.48" />
            </g>
            <line class="cls-1" x1="211.5" y1="227.5" x2="338.5" y2="227.5" />
          </g>
          <g id="Layer_3" data-name="Layer 3">
            <g id="longterm" class="cls-4">
              <circle class="cls-5" cx="404.25" cy="229.06" r="21.73" />
              <path
                class="cls-5"
                d="M468.5,258.67v-5.84a4.22,4.22,0,0,0-4.22-4.22h-.62a4.21,4.21,0,0,1-4-2.85,30.83,30.83,0,0,0-1.27-3.09,4.21,4.21,0,0,1,.82-4.8l.43-.43a4.22,4.22,0,0,0,0-6l-4.14-4.14a4.22,4.22,0,0,0-6,0l-.32.32a4.25,4.25,0,0,1-4.9.78,29.29,29.29,0,0,0-3.11-1.32,4.26,4.26,0,0,1-2.84-4v-.41a4.22,4.22,0,0,0-4.22-4.22h-5.84a4.22,4.22,0,0,0-4.22,4.22v.2a4.23,4.23,0,0,1-2.92,4,29.59,29.59,0,0,0-3.3,1.34,4.23,4.23,0,0,1-4.83-.81l-.12-.12a4.22,4.22,0,0,0-6,0l-4.14,4.14a4.22,4.22,0,0,0,0,6h0a4.25,4.25,0,0,1,.77,4.89,30.83,30.83,0,0,0-1.42,3.4,4.23,4.23,0,0,1-4,2.87h0a4.22,4.22,0,0,0-4.22,4.22v5.84a4.22,4.22,0,0,0,4.22,4.22h0a4.23,4.23,0,0,1,4,2.87,30.83,30.83,0,0,0,1.42,3.4,4.25,4.25,0,0,1-.77,4.89h0a4.22,4.22,0,0,0,0,6l4.14,4.14a4.22,4.22,0,0,0,6,0l.12-.12a4.23,4.23,0,0,1,4.83-.81,29.59,29.59,0,0,0,3.3,1.34,4.23,4.23,0,0,1,2.92,4v.2a4.22,4.22,0,0,0,4.22,4.22h5.84a4.22,4.22,0,0,0,4.22-4.22v-.41a4.26,4.26,0,0,1,2.84-4,29.29,29.29,0,0,0,3.11-1.32,4.25,4.25,0,0,1,4.9.78l.32.32a4.22,4.22,0,0,0,6,0l4.14-4.14a4.22,4.22,0,0,0,0-6l-.43-.43a4.21,4.21,0,0,1-.82-4.8,30.83,30.83,0,0,0,1.27-3.09,4.21,4.21,0,0,1,4-2.85h.62A4.22,4.22,0,0,0,468.5,258.67Z"
                transform="translate(-27 -27)" />
            </g>
            <g id="shortterm" class="cls-4">
              <circle class="cls-5" cx="230.93" cy="40.53" r="15.79" />
              <path
                class="cls-5"
                d="M285,69.43V65.19a3.06,3.06,0,0,0-3.07-3.07h-.45a3.06,3.06,0,0,1-2.89-2.07c-.27-.77-.58-1.52-.92-2.25a3.06,3.06,0,0,1,.59-3.49l.31-.31a3.05,3.05,0,0,0,0-4.33l-3-3a3.08,3.08,0,0,0-4.34,0l-.23.23a3.1,3.1,0,0,1-3.56.57,22.53,22.53,0,0,0-2.26-1,3.1,3.1,0,0,1-2.07-2.9v-.3a3.07,3.07,0,0,0-3.06-3.07H255.8a3.07,3.07,0,0,0-3.06,3.07v.15a3.08,3.08,0,0,1-2.12,2.91,21.11,21.11,0,0,0-2.4,1,3.11,3.11,0,0,1-3.52-.58l-.08-.09a3.08,3.08,0,0,0-4.34,0l-3,3a3.05,3.05,0,0,0,0,4.33h0a3.08,3.08,0,0,1,.56,3.55,24.26,24.26,0,0,0-1,2.47,3.07,3.07,0,0,1-2.9,2.09h0a3.06,3.06,0,0,0-3.07,3.07v4.24a3.07,3.07,0,0,0,3.07,3.07h0a3.08,3.08,0,0,1,2.9,2.08,23.52,23.52,0,0,0,1,2.48,3.08,3.08,0,0,1-.56,3.55h0a3.05,3.05,0,0,0,0,4.33l3,3a3.07,3.07,0,0,0,4.34,0l.08-.08a3.09,3.09,0,0,1,3.52-.59,19.41,19.41,0,0,0,2.4,1,3.11,3.11,0,0,1,2.12,2.92v.15a3.06,3.06,0,0,0,3.06,3.06h4.25a3.06,3.06,0,0,0,3.06-3.06V91a3.09,3.09,0,0,1,2.07-2.9,22.53,22.53,0,0,0,2.26-1,3.08,3.08,0,0,1,3.56.56l.23.23a3.07,3.07,0,0,0,4.34,0l3-3a3.05,3.05,0,0,0,0-4.33l-.31-.32a3.06,3.06,0,0,1-.59-3.49,23.35,23.35,0,0,0,.92-2.24,3.06,3.06,0,0,1,2.89-2.07h.45A3.07,3.07,0,0,0,285,69.43Z"
                transform="translate(-27 -27)" />
            </g>
          </g>
        </svg>
      </div>
    </div>
  </div>
</template>

<script lang="ts" setup>
import { onMounted } from "vue";

onMounted(() => {
  setInterval(() => {
    const show = document.querySelector("#hero span[data-show]");
    const up = document.querySelector("#hero span[data-up]");
    const next = show?.nextElementSibling || document.querySelector("#hero span:first-child");
    if (next) {
      if (up) {
        up.removeAttribute("data-up");
      }
      show?.removeAttribute("data-show");
      show?.setAttribute("data-up", "");
      next.setAttribute("data-show", "");
    }
  }, 2000);
});
</script>
<style lang="scss" scoped>
#fc {
  display: flex;
  align-items: center;
  justify-content: center;
}
#hero svg {
  display: block;
  width: 600px;
}

#hero svg text {
  text-decoration: none;
  -webkit-font-smoothing: subpixel-antialiased;
  font-family: Roboto, Helvetica, Arial, sans-serif;
}

.cls-1,
.cls-5,
.cls-6 {
  fill: none;
  stroke: var(--white);
  stroke-width: 3px;
}

.cls-1,
.cls-5 {
  stroke-miterlimit: 10;
}

.cls-1,
.cls-2,
.cls-3,
.cls-4 {
  opacity: 1;
}

.cls-2 {
  font-size: 24px;
}

.cls-2,
.cls-3,
.cls-7 {
  fill: var(--white);
}
.cls-3 {
  font-size: 18px;
}

.cls-6 {
  stroke-linecap: round;
  stroke-linejoin: round;
}

#shortterm {
  animation: rotate 4s linear infinite;
  transform-box: fill-box;
  transform-origin: center;
}

#longterm {
  animation: rotate 15s linear infinite;
  transform-box: fill-box;
  transform-origin: center;
}

#chrome {
  animation: rotate 50s linear infinite;
  transform-box: fill-box;
  transform-origin: center;
}

@keyframes rotate {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

#arrow1 {
  animation: blink-animation 2s steps(5, start) infinite;
}

#arrow2 {
  animation: blink-animation 2s steps(5, start) infinite;
  animation-delay: 1s;
}

@keyframes blink-animation {
  to {
    visibility: hidden;
  }
}

#hero {
  max-width: 1280px;
  padding-top: 8rem;
  margin: 1rem;
  grid-template-columns: 2fr 3fr;
  grid-column-gap: 0px;
  grid-row-gap: 0px;
  justify-items: center;
  align-items: center;
  text-shadow: var(--black-2) 1px 1px 1px;
}

#hero .description {
  padding: 1rem 2rem;
  text-align: left;
}

#hero h4 {
  margin-bottom: 0px;
}

#hero h2 {
  font-size: 45px;
  line-height: 1.06;
  color: var(--white);
}

#hero .mask {
  height: 47px;
  position: relative;
  overflow: hidden;
  width: 102px;
  display: inline-block;
}

#hero .mask span {
  display: inline-block;
  box-sizing: border-box;
  position: absolute;
  top: 102px;
  background-size: 100% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  background-repeat: no-repeat;
}

#hero .mask span[data-show] {
  transform: translateY(-100%);
  transition: 0.5s transform ease-in-out;
}

#hero .mask span[data-up] {
  transform: translateY(-200%);
  transition: 0.5s transform ease-in-out;
}

#hero .mask span:nth-child(1) {
  background-image: linear-gradient(45deg, var(--p) 10%, var(--white) 90%);
}

#hero .mask span:nth-child(2) {
  background-image: linear-gradient(45deg, #7b1fa2 10%, var(--white) 90%);
}

#hero .mask span:nth-child(3) {
  background-image: linear-gradient(45deg, var(--secondary) 10%, var(--white) 90%);
}

#hero span {
  display: inline-block;
}

#hero a {
  display: inline-block;
  font-size: 1em;
  border: 3px solid var(--white-8);
  padding: 10px 30px;
  text-transform: uppercase;
  text-decoration: none;
  font-weight: 500;
  margin-top: 30px;
  color: var(--white-8);
  border-radius: 3px;
  letter-spacing: 2px;
  transition: 0.2s;
  box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;
  text-shadow: rgba(0, 0, 0, 0) 1px 1px 1px;
}

#hero a:hover {
  color: var(--white);
  border: 3px solid var(--white);
  letter-spacing: 3px;
  background: linear-gradient(135deg, var(--p-6) 25%, var(--secondary-8) 25%);
  box-shadow: var(--p) 3px 5px 10px 0px;
  transition: 1s;
}

@media only screen and (max-width: 640px) {
  #hero {
    padding-top: 5rem;
    max-width: 640px;
    grid-template-columns: 1fr;
    grid-template-rows: 1fr 1fr;
  }

  #hero .description {
    padding: 0;
  }

  #hero h2 {
    font-size: 40px;
  }

  #hero .mask {
    height: 40px;
    width: 92px;
  }

  #hero .mask span {
    top: 46px;
  }

  #hero svg {
    width: 90vw;
  }
}

@media screen and (min-width: 641px) and (max-width: 1024px) {
  #wrap,
  .content,
  #hero {
    max-width: auto;
  }

  #hero svg {
    width: 44vw;
  }
}

@media screen and (min-width: 1025px) and (max-width: 1280px) {
  #wrap,
  .content,
  #hero {
    max-width: auto;
  }
}
</style>
